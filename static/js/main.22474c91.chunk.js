(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{275:function(e,t,n){e.exports=n(559)},280:function(e,t,n){},559:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(20),o=n.n(i),l=(n(280),n(21)),u=n(22),s=n(25),m=n(23),f=n(26),h=n(561),d=n(562),p=n(563),v=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement("span",{"data-testid":"details"},"details")}}]),t}(r.Component),b=n(37),E=n.n(b),j=n(16),O=n(108),g=function(e){var t=e.actions,n=e.isActive;return t.filter(function(e){return(!n||"Activate"!==e.actionName)&&!(!n&&"Deactivate"===e.actionName)}).map(function(e){return c.a.createElement(j.a,{key:e.actionId,variant:"outlined",color:e.color},e.actionName)})},y=[{id:1,value:"Name"},{id:2,value:"Date of Birth"},{id:3,value:"Age"},{id:4,value:"Email"},{id:5,value:"Mobile"},{id:6,value:"Active"},{id:7,value:"Actions"}],w=[{actionId:1,actionName:"View",color:"primary"},{actionId:2,actionName:"Edit",color:"primary"},{actionId:3,actionName:"Activate",color:"primary"},{actionId:4,actionName:"Deactivate",color:"secondary"}],k=function(e,t){return e+" "+t},A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={userActions:[]},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({userActions:w.map(function(e){return Object.assign({},e,{toShow:!0})})})}},{key:"render",value:function(){var e=this.props.users,t=this.state.userActions;return c.a.createElement(j.b,null,c.a.createElement(j.c,null,c.a.createElement(j.f,null,c.a.createElement(j.g,null,y.map(function(e){return c.a.createElement(j.e,{key:e.id}," ",e.value," ")}))),c.a.createElement(j.d,null,e.map(function(e){var n,a=e.email,r=e.first_name,i=e.last_name,o=e.dob,l=e.phone,u=e.active;return c.a.createElement(j.g,{key:a},c.a.createElement(j.e,null,k(r,i)),c.a.createElement(j.e,null,Object(O.format)(new Date(o),"DD-MM-YYYY")),c.a.createElement(j.e,null,Object(O.differenceInYears)(Date.now(),new Date(o))+" Years"),c.a.createElement(j.e,null,a),c.a.createElement(j.e,null,l),c.a.createElement(j.e,{style:{color:(n=u,n?"green":"red"),fontWeight:"bold"}},function(e){return e?"Active":"Inactive"}(u)),c.a.createElement(j.e,null,c.a.createElement(g,{actions:t,isActive:u})))}))))}}]),t}(r.Component),x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){n.props.handleFilterBoxChange(e.target.value)},n.handleSubmit=function(e){e.preventDefault()},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.value;return c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement(j.h,{label:"Search",InputProps:{inputProps:{"data-testid":"search","aria-label":"Search",onChange:this.handleChange}},value:e,margin:"normal",variant:"outlined"}))}}]),t}(r.Component),C=n(195),D=n.n(C),I=n(196),S=n.n(I),B=n(197),N=n.n(B),T=n(109),Y=D.a.create({baseURL:"https://us-central1-user-management-9c3b4.cloudfunctions.net/webApi/api/v1"}),M={GET:(a=Y.get,function(e){return function(t){return S()(e,Object(T.fromPromise)(a),T.Rejected,t)}})(N.a)},F=function(e){return console.log("Incorrect url format/type: ",e)},_=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],filterText:""},n.handleFilterBoxChange=function(e){n.setState({filterText:e})},n.filterUsersByText=function(e,t){return e.filter(function(e){var n=new RegExp(t,"i");return!(!n.test(k(e.first_name,e.last_name))&&!n.test(e.email))})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.GET("/users").map(function(e){return Object.values(e.data.users)}).fork(F,function(t){localStorage.setItem("users",JSON.stringify(t)),e.setState({users:t})})}},{key:"render",value:function(){var e=this.state,t=e.users,n=e.filterText,a=this.filterUsersByText(t,n);return c.a.createElement(E.a,{container:!0,spacing:16,"data-testid":"listing"},c.a.createElement(E.a,{item:!0,xs:6},c.a.createElement(x,{handleFilterBoxChange:this.handleFilterBoxChange})),c.a.createElement(E.a,{item:!0,xs:12},c.a.createElement(A,{searchValue:n,users:a})))}}]),t}(r.Component),J=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return c.a.createElement(h.a,null,c.a.createElement(d.a,null,c.a.createElement(p.a,{path:"/",component:_}),c.a.createElement(p.a,{path:"/details/:email",component:v})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[275,2,1]]]);
//# sourceMappingURL=main.22474c91.chunk.js.map